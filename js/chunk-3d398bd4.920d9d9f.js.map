{"version":3,"sources":["webpack:///./src/pages/auth/UserAuth.vue","webpack:///./src/pages/auth/UserAuth.vue?9126","webpack:///./src/pages/auth/UserAuth.vue?0a12"],"names":["class","_createElementVNode","for","_createElementBlock","_createVNode","_component_base_dialog","show","$data","title","onClose","$options","_toDisplayString","fixed","_component_base_spinner","_component_base_card","onSubmit","_hoisted_2","type","id","name","$event","_hoisted_4","_hoisted_5","_component_base_button","mode","onClick","data","email","password","formIsValid","isLoading","error","computed","submitButtonCaption","this","switchModeButtonCaption","methods","handleError","includes","length","$store","dispatch","redirectUrl","$route","query","redirect","$router","replace","err","message","switchMode","__exports__","render"],"mappings":"oNAUaA,MAAM,gB,QACTC,eAAgC,SAAzBC,IAAI,SAAQ,SAAK,I,GAGrBF,MAAM,gB,QACTC,eAAsC,SAA/BC,IAAI,YAAW,YAAQ,I,+LAdtCC,eAgCM,YA/BJC,eAEcC,EAAA,CAFAC,OAAQC,QAAOC,MAAM,oBAAqBC,QAAOC,eAA/D,C,uBACE,IAAkB,CAAlBT,eAAkB,SAAAU,eAAZJ,SAAK,K,KADb,sBAGAH,eAEcC,EAAA,CAFAC,KAAMC,YAAWC,MAAM,oBAAoBI,MAAA,IAAzD,C,uBACE,IAA6B,CAA7BR,eAA6BS,K,KAD/B,YAGAT,eAwBYU,EAAA,M,uBAvBV,IAsBO,CAtBPb,eAsBO,QAtBAc,SAAM,mCAAUL,iCAAU,eAAjC,CACET,eAGM,MAHN,EAGM,CAFJe,EAEI,eADJf,eAAmE,SAA5DgB,KAAK,QAAQC,GAAG,QAAQC,KAAK,Q,qCAAsBZ,QAAKa,IAA/D,mBAA0Db,gB,MAAd,QAE9CN,eAQM,MARN,EAQM,CAPJoB,EAOI,eANJpB,eAKE,SAJAgB,KAAK,WACLC,GAAG,WACHC,KAAK,W,qCACSZ,WAAQa,IAJxB,mBAIgBb,mB,MAAd,QAGMA,cAAV,uBAAUA,iBAAVJ,eAGI,IAAAmB,EAHmB,mFAIvBlB,eAAoDmB,EAAA,M,uBAAvC,IAAyB,+BAAtBb,uBAAmB,K,MACnCN,eAEgBmB,EAAA,CAFHN,KAAK,SAASO,KAAK,OAAQC,QAAOf,cAA/C,C,uBAA2D,IAEzD,+BADAA,2BAAuB,K,KADzB,gBAnBF,M,sBA2BS,GACbgB,OACE,MAAO,CACLC,MAAO,GACPC,SAAU,GACVC,aAAa,EACbL,KAAM,QACNM,WAAW,EACXC,MAAO,OAGXC,SAAU,CACRC,sBACE,MAAkB,UAAdC,KAAKV,KACA,QAEA,UAGXW,0BACE,MAAkB,UAAdD,KAAKV,KACA,iBAEA,kBAIbY,QAAS,CACPC,cACEH,KAAKH,MAAQ,MAEf,mBAEE,GADAG,KAAKL,aAAc,EAEF,KAAfK,KAAKP,QACJO,KAAKP,MAAMW,SAAS,MACrBJ,KAAKN,SAASW,OAAS,EAEvBL,KAAKL,aAAc,MALrB,CAUAK,KAAKJ,WAAY,EACjB,UACQI,KAAKM,OAAOC,SAAS,OAAQ,CACjCd,MAAOO,KAAKP,MACZC,SAAUM,KAAKN,SACfJ,KAAMU,KAAKV,OAEb,MAAMkB,EAAc,KAAOR,KAAKS,OAAOC,MAAMC,UAAY,WACzDX,KAAKY,QAAQC,QAAQL,GACrB,MAAOM,GACPd,KAAKH,MAAQiB,EAAIC,SAAW,oCAG9Bf,KAAKJ,WAAY,IAEnBoB,aACoB,UAAdhB,KAAKV,KACPU,KAAKV,KAAO,SAEZU,KAAKV,KAAO,W,iCC3FpB,MAAM2B,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,yDCTf","file":"js/chunk-3d398bd4.920d9d9f.js","sourcesContent":["<template>\n  <div>\n    <base-dialog :show=\"!!error\" title=\"An error occured!\" @close=\"handleError\">\n      <p>{{ error }}</p>\n    </base-dialog>\n    <base-dialog :show=\"isLoading\" title=\"Authenticating...\" fixed>\n      <base-spinner></base-spinner>\n    </base-dialog>\n    <base-card>\n      <form @submit.prevent=\"submitForm\">\n        <div class=\"form-control\">\n          <label for=\"email\">Email</label>\n          <input type=\"email\" id=\"email\" name=\"email\" v-model.trim=\"email\" />\n        </div>\n        <div class=\"form-control\">\n          <label for=\"password\">Password</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            name=\"password\"\n            v-model.trim=\"password\"\n          />\n        </div>\n        <p v-if=\"!formIsValid\">\n          Please enter a valid email and password(must be at least 6 characters\n          long).\n        </p>\n        <base-button>{{ submitButtonCaption }}</base-button>\n        <base-button type=\"button\" mode=\"flat\" @click=\"switchMode\">{{\n          switchModeButtonCaption\n        }}</base-button>\n      </form>\n    </base-card>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      email: '',\n      password: '',\n      formIsValid: true,\n      mode: 'login',\n      isLoading: false,\n      error: null,\n    };\n  },\n  computed: {\n    submitButtonCaption() {\n      if (this.mode === 'login') {\n        return 'Login';\n      } else {\n        return 'Signup';\n      }\n    },\n    switchModeButtonCaption() {\n      if (this.mode === 'login') {\n        return 'Signup instead';\n      } else {\n        return 'Login instead';\n      }\n    },\n  },\n  methods: {\n    handleError() {\n      this.error = null;\n    },\n    async submitForm() {\n      this.formIsValid = true; // clear any errors that we may be displaying\n      if (\n        this.email === '' ||\n        !this.email.includes('@') ||\n        this.password.length < 6\n      ) {\n        this.formIsValid = false;\n        return;\n      }\n\n      // send http request\n      this.isLoading = true;\n      try {\n        await this.$store.dispatch('auth', {\n          email: this.email,\n          password: this.password,\n          mode: this.mode,\n        });\n        const redirectUrl = '/' + (this.$route.query.redirect || 'coaches');\n        this.$router.replace(redirectUrl);\n      } catch (err) {\n        this.error = err.message || 'Failed to authenticate, try later';\n      }\n\n      this.isLoading = false;\n    },\n    switchMode() {\n      if (this.mode === 'login') {\n        this.mode = 'signup';\n      } else {\n        this.mode = 'login';\n      }\n    },\n  },\n};\n</script>\n<style scoped>\nform {\n  margin: 1rem;\n  padding: 1rem;\n}\n\n.form-control {\n  margin: 0.5rem 0;\n}\n\nlabel {\n  font-weight: bold;\n  margin-bottom: 0.5rem;\n  display: block;\n}\ninput,\ntextarea {\n  display: block;\n  width: 100%;\n  font: inherit;\n  border: 1px solid #ccc;\n  padding: 0.15rem;\n}\n\ninput:focus,\ntextarea:focus {\n  border-color: #3d008d;\n  background-color: #faf6ff;\n  outline: none;\n}\n</style>\n","import { render } from \"./UserAuth.vue?vue&type=template&id=32903374&scoped=true\"\nimport script from \"./UserAuth.vue?vue&type=script&lang=js\"\nexport * from \"./UserAuth.vue?vue&type=script&lang=js\"\n\nimport \"./UserAuth.vue?vue&type=style&index=0&id=32903374&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/wangyurui/Documents/courses/vue-max/16-find-coach-project/main-prj-01-starting-setup/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-32903374\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./UserAuth.vue?vue&type=style&index=0&id=32903374&scoped=true&lang=css\""],"sourceRoot":""}